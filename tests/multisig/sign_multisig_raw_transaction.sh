#!/bin/sh

RAW_TX=0100000001982cb92a988919db0e1c89f83081a890076edc9b4797a0844b8f4d8af41f795a0000000000ffffffff01c0e4022a010000001976a914a4c1d31cd2c928215324cd4df53d7885f11c727188ac00000000

UTXO_TXID=5a791ff48a4d8f4b84a097479bdc6e0790a88130f8891c0edb1989982ab92c98
UTXO_VOUT=0
UTXO_OUTPUT_SCRIPT=a91460519236d22f3dcbecfffa0162173b68084c381a87
P2SH_REDEEM_SCRIPT=522103fc827716cf22aaf09fb0b69f3f43208515cceba28943c4d09f02ca90ed88edab210392959b2ba7e94044dc6a5682a049c7974f985dca871d9b60de0aad85ac3e5a84210264edb10e2dd55664e38c1fa6b24aaa1d59bd608e61b429af60d92d118ac1cc7f53ae

NEW_ADDRESS1_PRIVATE_KEY=cShKgGJ56v4Uq5WaCCHuKyGC8dQwkBZiVdVcJvy2L5DQWAG7BpnG
NEW_ADDRESS3_PRIVATE_KEY=cTQ5Yw9ztCai4vYqSDmeXctpMaX3FKJkEQ2XoJeRNqWDYBesR47a

bitcoin-cli -regtest signrawtransaction $RAW_TX '''[{"txid": "'$UTXO_TXID'", "vout": '$UTXO_VOUT', "scriptPubKey": "'$UTXO_OUTPUT_SCRIPT'", "redeemScript": "'$P2SH_REDEEM_SCRIPT'"}]''' '''["'$NEW_ADDRESS1_PRIVATE_KEY'"]'''

